<div id="playlist-browser">
    <div id="playlists-container">
        <ul>
            <li class="btn-enabled pl"
                ng-repeat="pl in playlists | orderBy: 'index'"
                ng-class="selectedPlaylist._id == pl._id ? 'selected' : ''"
                ng-click="innerPlaylistSelected(pl)">
                <div ng-show="pl.isEditing">
                    <!-- Editing mode -->
                    <input type="text" ng-model="pl.name" ng-enter="endEditPlaylist(pl)">
                    <span class="icon-checkmark rename" stop-event ng-click="endEditPlaylist(pl)"></span>
                    <span class="icon-close cancel" stop-event ng-click="cancel(pl)"></span>
                </div>
                <span ng-show="!pl.isEditing"
                      class="title">
                    {{ pl.name || 'Empty' }}
                </span>
                <div class="tab-tools" ng-show="!pl.isEditing">
                    <!-- Non editing mode -->
                    <span class="icon-pencil rename" stop-event ng-click="beginEditPlaylist(pl)"></span>
                    <span class="icon-remove delete" stop-event ng-click="innerRemovePlaylist(pl)"></span>
                </div>
            </li>
            <li ng-switch="isAdding" class="btn-enabled">
                <div ng-switch-when="true">
                    <input type="text" ng-model="newPlaylist.name" ng-enter="endAddVirtualPlaylist()">
                    <span class="icon-checkmark rename" stop-event ng-click="endAddVirtualPlaylist()"></span>
                    <span class="icon-close cancel" stop-event ng-click="cancel()"></span>
                </div>

                <div ng-switch-default>
                    <span id="add-playlist-virtual" ng-click="beginAddVirtualPlaylist()">+</span>
                    <span id="add-playlist-phys" class="icon-download" ng-click="beginAddPhysicalPlaylist()"></span>
                </div>
            </li>
        </ul>
    </div>
    <div id="media-container">
        <ul>
            <li ng-repeat="m in media | orderBy: 'index'"
                ng-click="mediaSelected(m)"
                ng-dblclick="mediaValidated(m)"
                ng-class="m.isPlaying ? 'current' : ''"
                class="btn-enabled">

                <span class="icon-close remove btn-enabled" stop-event ng-click="innerDeleteMedia(m)"></span>
                <span class="icon-play btn-enabled" ng-click="innerPlayMedia(m)" stop-event></span>

                <span class="title">{{ m.title || 'Empty' }}</span>
                <div class="duration">{{ m.duration | time}}</div>
            </li>
        </ul>

        <file-explorer is-visible="isPlaylistFinderVisible"
                       bind-to-favorites="false"
                       explore-when-visible="true"
                       filter-files="m3u"
                       play-media="playMediaFromFileExplorer(file)"
                       enqueue-media="enqueueMediaFromFileExplorer(file)"
                       selected-files="selectedFile"
                       folder-path="currentFileExplorerDirPath"
                       selection-mode="selectionMode"
                       media-queue="mediaQueue">
        </file-explorer>

        <div id="playlistFinderValidation">
            <span class="icon-checkmark btn-enabled btn-large"
                  ng-click="endAddPhysicalPlaylist()"></span>
            <span class="icon-close btn-enabled btn-large"
                  id="playlistFinderValidationCancel"></span>
        </div>

    </div>


</div>